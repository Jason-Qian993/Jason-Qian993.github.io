<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>JasonQian's Blog - 1.048596%</title><meta name="author" content="JasonQian"><meta name="copyright" content="JasonQian"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="1.048596">
<meta property="og:type" content="website">
<meta property="og:title" content="JasonQian&#39;s Blog">
<meta property="og:url" content="http://example.com/page/3/index.html">
<meta property="og:site_name" content="JasonQian&#39;s Blog">
<meta property="og:description" content="1.048596">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.jasonqian.com/img/menhera_1.jpg">
<meta property="article:author" content="JasonQian">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.jasonqian.com/img/menhera_1.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/page/3/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JasonQian\'s Blog',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-11-07 18:23:58'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="/css/runtime.min.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.1.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://www.jasonqian.com/img/menhera_1.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">71</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">JasonQian's Blog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">JasonQian's Blog</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/Jason-Qian993" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2024/08/12/IO%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/" title="IO文件操作"><img class="post_bg" src="https://www.jasonqian.com/img/menhera_21.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="IO文件操作"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/12/IO%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/" title="IO文件操作">IO文件操作</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-12T06:58:11.000Z" title="发表于 2024-08-12 14:58:11">2024-08-12</time></span></div><div class="content">打开文件，Open
123std::ifstream yuv_file;yuv_file.open(&quot;400_300_25.yuv&quot;, std::ios::binary);
第二个参数_Mode默认值为 ios_base::in，表示以只读模式打开文件。常见的模式包括：

ios_base::in：以输入（读）模式打开文件。
ios_base::out：以输出（写）模式打开文件。
ios_base::binary：以二进制模式打开文件。
ios_base::app：以追加模式打开文件，写入的内容会追加到文件末尾。
ios_base::trunc：如果文件存在，则在打开时将其长度截断为 0（通常与 ios_base::out 一起使用）。
ios_base::ate：在打开文件时定位到文件末尾。

移动文件，seekg
123std::ifstream yuv_file;yuv_file.seekg(0, ios::end);
seekg 是 C++ 标准库中用于操作输入文件流（如 std::ifstream）位置的成员函数。seekg 的功能是将文件流的“读指针”移 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/08/12/%E6%8E%A7%E5%88%B6%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E9%80%9F%E5%BA%A6-%E4%BD%BF%E7%94%A8Sleep%E5%87%BD%E6%95%B0/" title="控制视频播放速度(使用Sleep函数)"><img class="post_bg" src="https://www.jasonqian.com/img/menhera_13.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="控制视频播放速度(使用Sleep函数)"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/12/%E6%8E%A7%E5%88%B6%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E9%80%9F%E5%BA%A6-%E4%BD%BF%E7%94%A8Sleep%E5%87%BD%E6%95%B0/" title="控制视频播放速度(使用Sleep函数)">控制视频播放速度(使用Sleep函数)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-12T06:57:21.000Z" title="发表于 2024-08-12 14:57:21">2024-08-12</time></span></div><div class="content">总体思路：在主函数中初始化SDL，读取文件，将数据交给线程Main，在线程Main中，通过while循环，以及用户设置的fps，根据fps的计算，读取数据进入View()函数中进行处理。
主函数
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061SDLQtRGB::SDLQtRGB(QWidget *parent)    : QWidget(parent)&#123;    ui.setupUi(this);        	// 打开yuv文件	yuv_file.open(&quot;400_300_25.yuv&quot;, std::ios::binary);	// 拿到文件大小	yuv_file.seekg(0, ios::end);	// 移到文件结尾	file_size = yuv_file.tellg();	// 文件指针位置，获取文件大小	yuv_file.seekg(0, ios::beg);	 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/08/11/ffmpeg%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" title="ffmpeg学习记录"><img class="post_bg" src="https://www.jasonqian.com/img/menhera_21.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ffmpeg学习记录"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/11/ffmpeg%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" title="ffmpeg学习记录">ffmpeg学习记录</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-11T09:22:03.000Z" title="发表于 2024-08-11 17:22:03">2024-08-11</time></span></div><div class="content">视频、图片格式介绍
使用 SDL 进行 RGB 渲染
使用 SDL 将两幅图片合并
SDL 播放 YUV 格式视频
XVideoView
XSDL
AVFrame 介绍
IO 文件操作
控制视频播放速度 (使用 Sleep 函数)
YUV、RGBA相互转换
ffmpeg 库进行编码
编码压缩(I、P、B帧，GOP)
XCodec
XEncode
AVCodec、AVCodecContext
ffmpeg库进行解码
XDecode
AVStream、AVFormatContext
AVCodecParameters
AVPacket
截取一段视频
XFormat
XMux
XDemux
编码encoder，解码decoder，复用mux，解复用demux关系
责任链设计模式
XTools
XDecodeTask
XMuxTask
XDemuxTask
</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/08/11/AVFrame%E4%BB%8B%E7%BB%8D/" title="AVFrame介绍"><img class="post_bg" src="https://www.jasonqian.com/img/menhera_34.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AVFrame介绍"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/11/AVFrame%E4%BB%8B%E7%BB%8D/" title="AVFrame介绍">AVFrame介绍</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-11T08:53:15.000Z" title="发表于 2024-08-11 16:53:15">2024-08-11</time></span></div><div class="content">AVFrame介绍
AVFrame 是 FFmpeg 库中用于存储音视频数据帧的核心结构体。它在处理视频解码、编码、滤镜以及其他音视频处理任务时非常重要。AVFrame 可以表示原始的未压缩音频或视频数据。

AVFrame 的作用：


视频帧：在处理视频时，AVFrame 用于存储解码后的原始视频帧，每个帧包括像素数据、分辨率、格式、时间戳等信息。
音频帧：在处理音频时，AVFrame 用于存储解码后的原始音频数据，包括音频样本、通道布局、采样率等信息。


AVFrame 的结构：

AVFrame 是一个复杂的结构体，包含了大量与音视频数据相关的字段。以下是一些主要字段的介绍：


数据和缓冲区相关：
AV_NUM_DATA_POINTERS是 FFmpeg 库中的一个宏定义，它定义了用于指向数据平面的指针数组的大小。一般被定义为 8，这意味着数据指针数组 data[AV_NUM_DATA_POINTERS] 可以存储多达 8 个指向不同数据平面的指针。

uint8_t *data[AV_NUM_DATA_POINTERS]：指向存储数据的指针数组。对于视频，data[0]  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/08/11/%E8%A7%86%E9%A2%91%E3%80%81%E5%9B%BE%E7%89%87%E6%A0%BC%E5%BC%8F/" title="视频、图片格式"><img class="post_bg" src="https://www.jasonqian.com/img/menhera_21.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="视频、图片格式"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/11/%E8%A7%86%E9%A2%91%E3%80%81%E5%9B%BE%E7%89%87%E6%A0%BC%E5%BC%8F/" title="视频、图片格式">视频、图片格式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-11T07:28:36.000Z" title="发表于 2024-08-11 15:28:36">2024-08-11</time></span></div><div class="content">YUV格式
YUV：&quot;Y&quot;表示明亮度（Luminance或Luma），也就是灰阶值，&quot;U&quot;和&quot;V&quot;表示的则是色度（Chrominance或Chroma）
为什么压缩数据一般采用YUV格式

与熟知RGB类似，YUV也是一种颜色编码方法，它是指将亮度参量(Y:Luminance或Luma)和色度参量(UV:Chrominance或Chroma)分开进行表示的像素编码格式
这样分开的好处就是不但可以避免相互干扰，没有UV信息一样可以显示完整的图像因而解决了彩色电视与黑白电视的兼容问题;还可以降低色度的采样率而不会对图像质量影响太大，降低了视屏信号传输时对频宽(带宽)的要求。
Y共用一组UV分量


YUV具体格式
YUV444
表示$4:4:4$的YUV取样。
每个像素都有独立的Y、U、V分量。
每一个像素Y占一个字节，U占一个字节，V占一个字节，因此每个像素占：
$$1 (Y)×8 bits+1 (U)×8 bits+1 (V)×8 bits=24 bits/pixel (bpp)$$
以$2\times 2$像素的图像为例

 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/08/11/SDL%E6%92%AD%E6%94%BEYUV%E6%A0%BC%E5%BC%8F%E8%A7%86%E9%A2%91/" title="SDL播放YUV格式视频"><img class="post_bg" src="https://www.jasonqian.com/img/menhera_3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SDL播放YUV格式视频"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/11/SDL%E6%92%AD%E6%94%BEYUV%E6%A0%BC%E5%BC%8F%E8%A7%86%E9%A2%91/" title="SDL播放YUV格式视频">SDL播放YUV格式视频</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-11T02:13:42.000Z" title="发表于 2024-08-11 10:13:42">2024-08-11</time></span></div><div class="content">代码
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879#include &quot;sdlqtrgb.h&quot;#include &lt;sdl/SDL.h&gt;#include &lt;QMessageBox&gt;#include &lt;iostream&gt;#include &lt;fstream&gt;#pragma comment(lib, &quot;SDL2.lib&quot;)static int sdl_width = 0;static int sdl_height = 0;static SDL_Window* sdl_win = nullptr;static SDL_Renderer* sdl_render = nullptr;static SDL_Texture* sdl_texture = nullptr; ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/08/11/%E4%BD%BF%E7%94%A8SDL%E5%B0%86%E4%B8%A4%E5%B9%85%E5%9B%BE%E7%89%87%E5%90%88%E5%B9%B6/" title="使用SDL将两幅图片合并"><img class="post_bg" src="https://www.jasonqian.com/img/menhera_15.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用SDL将两幅图片合并"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/11/%E4%BD%BF%E7%94%A8SDL%E5%B0%86%E4%B8%A4%E5%B9%85%E5%9B%BE%E7%89%87%E5%90%88%E5%B9%B6/" title="使用SDL将两幅图片合并">使用SDL将两幅图片合并</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-11T02:12:56.000Z" title="发表于 2024-08-11 10:12:56">2024-08-11</time></span></div><div class="content">代码
123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115#include &quot;sdlqtrgb.h&quot;#include &lt;sdl/SDL.h&gt;#include &lt;QMessageBox&gt;#include &lt;iostream&gt;#pragma comment(lib, &quot;SDL2.lib&quot;)static int sdl_width = 0;static int sdl_height = 0;static SDL_Window* sdl_win = nullptr;static SDL_Renderer* ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/08/09/%E4%BD%BF%E7%94%A8SDL%E8%BF%9B%E8%A1%8CRGB%E6%B8%B2%E6%9F%93/" title="使用SDL进行RGB渲染"><img class="post_bg" src="https://www.jasonqian.com/img/menhera_13.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用SDL进行RGB渲染"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/09/%E4%BD%BF%E7%94%A8SDL%E8%BF%9B%E8%A1%8CRGB%E6%B8%B2%E6%9F%93/" title="使用SDL进行RGB渲染">使用SDL进行RGB渲染</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-09T08:11:18.000Z" title="发表于 2024-08-09 16:11:18">2024-08-09</time></span></div><div class="content">代码
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091#include &quot;sdlqtrgb.h&quot;#include &lt;sdl/SDL.h&gt;#include &lt;iostream&gt;#pragma comment(lib, &quot;SDL2.lib&quot;)static int sdl_width = 0;static int sdl_height = 0;static SDL_Window* sdl_win = nullptr;static SDL_Renderer* sdl_render = nullptr;static SDL_Texture* sdl_texture = nullptr;static unsigned char* rgb =  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/08/02/ffmpeg-%E6%90%9C%E7%B4%A2%E6%A0%8F/" title="ffmpeg 搜索栏"><img class="post_bg" src="https://www.jasonqian.com/img/menhera_11.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ffmpeg 搜索栏"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/02/ffmpeg-%E6%90%9C%E7%B4%A2%E6%A0%8F/" title="ffmpeg 搜索栏">ffmpeg 搜索栏</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-02T00:57:14.000Z" title="发表于 2024-08-02 08:57:14">2024-08-02</time></span></div><div class="content">项目地址。

XVideoView。
XVideoView是XSDL的基类。
XVideoView作用：

将传入的AVCodecParameters交给XSDL，用于处理sdl初始化
读取每一帧的数据
将传入的文件打开
根据传入的参数，返回XVideoView类，默认为XSDL
计算 fps，根据 format 进行绘制，Draw () 函数在基类 XSDL 中


XSDL。
XSDL继承于XVideoView。
XSDL作用：

初始化sdl
检查sdl窗口是否关闭
清理材质、渲染器、窗口句柄指针
处理YUV或RGB格式，渲染到sdl窗口上


XCodec。
XCodec是编解码的基类，也就是XEncode、XDecode的基类
XCodec作用：

根据传入的参数，新创建并返回解码器或编码器AVCodecContext（关于AVCodecContext介绍在这里）
设置类中的编解码器上下文AVCodecContext
设置类中编解码器上下文一些参数
打开编解码器
根据上下文AVCodecContext创建一个AVFrame


XEncode。
继承于XCodec
XEnco ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/08/01/XViewer-Project/" title="XViewer Project"><img class="post_bg" src="https://www.jasonqian.com/img/menhera_7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="XViewer Project"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/01/XViewer-Project/" title="XViewer Project">XViewer Project</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-01T07:31:01.000Z" title="发表于 2024-08-01 15:31:01">2024-08-01</time></span></div><div class="content">
main.cpp
作为Qt的启动函数，通过创建XViewer对象。
然后调用show()函数在屏幕上进行显示。
接着调用exec()函数，启动Qt的循环事件，此时程序可以处理用户输入的一些请求。
12345678910int  main(int argc, char *argv[])&#123;	QApplication a(argc, argv);	XViewer w;	w.show();	auto re = a.exec();	// xr.Stop();	return re;&#125;
xviewer
xviewer.h
用于第一个Qt创建的对象，可以通过自定义函数进行一些关于界面事件的处理。
123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566#pragma once#include &lt;QtWidgets/QWidget&gt;#include &quot;ui_xviewer. ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/2/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/#content-inner">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/#content-inner">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/#content-inner">8</a><a class="extend next" rel="next" href="/page/4/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://www.jasonqian.com/img/menhera_1.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">JasonQian</div><div class="author-info__description">1.048596</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">71</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Jason-Qian993" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">帰り道が長い</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/11/07/viewstar-%E6%8A%98%E7%BA%BF%E5%9B%BE/" title="viewstar 折线图"><img src="https://www.jasonqian.com/img/menhera_23.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="viewstar 折线图"/></a><div class="content"><a class="title" href="/2024/11/07/viewstar-%E6%8A%98%E7%BA%BF%E5%9B%BE/" title="viewstar 折线图">viewstar 折线图</a><time datetime="2024-11-07T10:06:49.000Z" title="发表于 2024-11-07 18:06:49">2024-11-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/14/vba%E6%BC%94%E7%A4%BA%E4%BB%A3%E7%A0%81/" title="vba演示代码"><img src="https://www.jasonqian.com/img/menhera_26.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="vba演示代码"/></a><div class="content"><a class="title" href="/2024/10/14/vba%E6%BC%94%E7%A4%BA%E4%BB%A3%E7%A0%81/" title="vba演示代码">vba演示代码</a><time datetime="2024-10-14T14:42:27.000Z" title="发表于 2024-10-14 22:42:27">2024-10-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/13/pnl%E9%A1%B5%E9%9D%A2%E5%88%87%E6%8D%A2/" title="pnl页面切换"><img src="https://www.jasonqian.com/img/menhera_31.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="pnl页面切换"/></a><div class="content"><a class="title" href="/2024/10/13/pnl%E9%A1%B5%E9%9D%A2%E5%88%87%E6%8D%A2/" title="pnl页面切换">pnl页面切换</a><time datetime="2024-10-13T03:39:56.000Z" title="发表于 2024-10-13 11:39:56">2024-10-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/11/make%E6%9E%84%E5%BB%BA/" title="make构建"><img src="https://www.jasonqian.com/img/menhera_21.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="make构建"/></a><div class="content"><a class="title" href="/2024/10/11/make%E6%9E%84%E5%BB%BA/" title="make构建">make构建</a><time datetime="2024-10-11T14:45:06.000Z" title="发表于 2024-10-11 22:45:06">2024-10-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/07/nodejs%E5%AD%A6%E4%B9%A0/" title="nodejs学习"><img src="https://www.jasonqian.com/img/menhera_35.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="nodejs学习"/></a><div class="content"><a class="title" href="/2024/10/07/nodejs%E5%AD%A6%E4%B9%A0/" title="nodejs学习">nodejs学习</a><time datetime="2024-10-07T07:25:20.000Z" title="发表于 2024-10-07 15:25:20">2024-10-07</time></div></div></div></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/AtCoder%E9%A2%98%E8%A7%A3%E9%9B%86/" style="font-size: 1.34em; color: #99a3b0">AtCoder题解集</a> <a href="/tags/DS/" style="font-size: 1.42em; color: #99a6b7">DS</a> <a href="/tags/python/" style="font-size: 1.18em; color: #999ca1">python</a> <a href="/tags/%E5%B7%A5%E7%A8%8B%E8%AF%BE/" style="font-size: 1.1em; color: #999">工程课</a> <a href="/tags/%E7%AE%97%E6%B3%95%E5%B0%8F%E7%9F%A5%E8%AF%86%E7%82%B9/" style="font-size: 1.26em; color: #999fa8">算法小知识点</a> <a href="/tags/%E9%AB%98%E6%95%B0/" style="font-size: 1.5em; color: #99a9bf">高数</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/11/"><span class="card-archive-list-date">十一月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/10/"><span class="card-archive-list-date">十月 2024</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">九月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">八月 2024</span><span class="card-archive-list-count">22</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">七月 2024</span><span class="card-archive-list-count">12</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">六月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/04/"><span class="card-archive-list-date">四月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">71</div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">189.3k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-11-07T10:23:57.597Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2024 By JasonQian</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (true){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    window.typed = new Typed("#subtitle", {
      strings: ["🌸你我逢于伊始之春，而非伤寂之秋，戏剧已然落幕，我们奇迹般的开始🌸"],
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '🌸你我逢于伊始之春，而非伤寂之秋，戏剧已然落幕，我们奇迹般的开始🌸'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v6.2.0" title=""><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="主题版本Butterfly_v4.3.1" title=""><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" data-title="本站采用多线部署，主线路托管于Vercel" title=""><img src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a><a class="github-badge" target="_blank" href="http://www.beian.gov.cn/portal/recordQuery" style="margin-inline:5px" data-title="网站备案" title=""><img src="https://img.shields.io/badge/渝公网安备-50011802010611号-blue?style=flat&amp;logo=备案" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title=""><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title=""><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="/js/runtime.js"></script><!-- hexo injector body_end end --></body></html>