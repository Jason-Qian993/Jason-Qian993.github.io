<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>JasonQian's Blog - 1.048596%</title><meta name="author" content="JasonQian"><meta name="copyright" content="JasonQian"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="1.048596">
<meta property="og:type" content="website">
<meta property="og:title" content="JasonQian&#39;s Blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="JasonQian&#39;s Blog">
<meta property="og:description" content="1.048596">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.jasonqian.com/img/menhera_1.jpg">
<meta property="article:author" content="JasonQian">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.jasonqian.com/img/menhera_1.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JasonQian\'s Blog',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-08-27 16:59:19'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="/css/runtime.min.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.1.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://www.jasonqian.com/img/menhera_1.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">61</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">JasonQian's Blog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">JasonQian's Blog</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/Jason-Qian993" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2024/08/11/ffmpeg%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" title="ffmpeg学习记录"><img class="post_bg" src="https://www.jasonqian.com/img/menhera_21.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ffmpeg学习记录"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/11/ffmpeg%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" title="ffmpeg学习记录">ffmpeg学习记录</a><div class="article-meta-wrap"><span class="article-meta"><i class="fas fa-thumbtack sticky"></i><span class="sticky">置顶</span><span class="article-meta-separator">|</span></span><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-11T09:22:03.000Z" title="发表于 2024-08-11 17:22:03">2024-08-11</time></span></div><div class="content">视频、图片格式介绍
使用 SDL 进行 RGB 渲染
使用 SDL 将两幅图片合并
SDL 播放 YUV 格式视频
XVideoView
XSDL
AVFrame 介绍
IO 文件操作
控制视频播放速度 (使用 Sleep 函数)
YUV、RGBA相互转换
ffmpeg 库进行编码
编码压缩
XCodec
XEncode
AVCodec、AVCodecContext
ffmpeg库进行解码
XDecode
AVStream、AVFormatContext
AVCodecParameters
AVPacket
截取一段视频
XFormat
XMux
XDemux
</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/08/02/ffmpeg-%E6%90%9C%E7%B4%A2%E6%A0%8F/" title="ffmpeg 搜索栏"><img class="post_bg" src="https://www.jasonqian.com/img/menhera_27.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ffmpeg 搜索栏"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/02/ffmpeg-%E6%90%9C%E7%B4%A2%E6%A0%8F/" title="ffmpeg 搜索栏">ffmpeg 搜索栏</a><div class="article-meta-wrap"><span class="article-meta"><i class="fas fa-thumbtack sticky"></i><span class="sticky">置顶</span><span class="article-meta-separator">|</span></span><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-02T00:57:14.000Z" title="发表于 2024-08-02 08:57:14">2024-08-02</time></span></div><div class="content">项目地址。

XVideoView。
XVideoView是XSDL的基类。
XVideoView作用：

将传入的AVCodecParameters交给XSDL，用于处理sdl初始化
读取每一帧的数据
将传入的文件打开
根据传入的参数，返回XVideoView类，默认为XSDL
计算 fps，根据 format 进行绘制，Draw () 函数在基类 XSDL 中


XSDL。
XSDL继承于XVideoView。
XSDL作用：

初始化sdl
检查sdl窗口是否关闭
清理材质、渲染器、窗口句柄指针
处理YUV或RGB格式，渲染到sdl窗口上


XCodec。
XCodec是编解码的基类，也就是XEncode、XDecode的基类
XCodec作用：

根据传入的参数，新创建并返回解码器或编码器AVCodecContext（关于AVCodecContext介绍在这里）
设置类中的编解码器上下文AVCodecContext
设置类中编解码器上下文一些参数
打开编解码器
根据上下文AVCodecContext创建一个AVFrame


XEncode。
继承于XCodec
XEnco ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/08/01/XViewer-Project/" title="XViewer Project"><img class="post_bg" src="https://www.jasonqian.com/img/menhera_31.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="XViewer Project"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/01/XViewer-Project/" title="XViewer Project">XViewer Project</a><div class="article-meta-wrap"><span class="article-meta"><i class="fas fa-thumbtack sticky"></i><span class="sticky">置顶</span><span class="article-meta-separator">|</span></span><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-01T07:31:01.000Z" title="发表于 2024-08-01 15:31:01">2024-08-01</time></span></div><div class="content">
main.cpp
作为Qt的启动函数，通过创建XViewer对象。
然后调用show()函数在屏幕上进行显示。
接着调用exec()函数，启动Qt的循环事件，此时程序可以处理用户输入的一些请求。
12345678910int  main(int argc, char *argv[])&#123;	QApplication a(argc, argv);	XViewer w;	w.show();	auto re = a.exec();	// xr.Stop();	return re;&#125;
xviewer
xviewer.h
用于第一个Qt创建的对象，可以通过自定义函数进行一些关于界面事件的处理。
123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566#pragma once#include &lt;QtWidgets/QWidget&gt;#include &quot;ui_xviewer. ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/04/08/Qt/" title="Qt"><img class="post_bg" src="https://www.jasonqian.com/img/menhera_20.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Qt"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/04/08/Qt/" title="Qt">Qt</a><div class="article-meta-wrap"><span class="article-meta"><i class="fas fa-thumbtack sticky"></i><span class="sticky">置顶</span><span class="article-meta-separator">|</span></span><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-04-08T03:49:54.000Z" title="发表于 2024-04-08 11:49:54">2024-04-08</time></span></div><div class="content">第一章：认识Qt
如何添加第三方库

Qt Creater在pro文件下进行添加
Vs2019在右键属性Qt设置里添加

QMake与CMake
qmake：qt独有的代码构建工具
cmake：C++通用的代码构建工具，绝大部分C++开源项目都是使用cmake管理代码，如obs，jsoncpp
总结：

如果你主要在开发Qt应用程序，尤其是当你不需要复杂的自定义构建逻辑时，QMake可能是更简单直接的选择。
如果你的项目需要跨平台支持，或者你需要一种更灵活、功能更强大的构建系统，CMake可能是更好的选择。

Qt的三个窗口

QMainWindow：是Qt提供的一个主窗口类，它为应用程序提供了一个带有菜单栏、工具栏、状态栏、和可选的停靠窗口（dock widgets）和中心窗口的主窗口。适合做应用程序的主界面。
QWidget：是所有用户界面对象的基类。它可以作为一个独立的窗口或者是其他窗口（如QMainWindow、QDialog）中的一个组件使用。它通常被用来创建应用程序中的简单窗口或作为组合较复杂控件的基础。
QDialog：是用于创建对话框的基类。通常用于短暂的交互，如收集用 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/08/27/%E7%BC%96%E7%A0%81encoder%EF%BC%8C%E8%A7%A3%E7%A0%81decoder%EF%BC%8C%E5%A4%8D%E7%94%A8mux%EF%BC%8C%E8%A7%A3%E5%A4%8D%E7%94%A8demux%E5%85%B3%E7%B3%BB/" title="编码encoder，解码decoder，复用mux，解复用demux关系"><img class="post_bg" src="https://www.jasonqian.com/img/menhera_4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="编码encoder，解码decoder，复用mux，解复用demux关系"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/27/%E7%BC%96%E7%A0%81encoder%EF%BC%8C%E8%A7%A3%E7%A0%81decoder%EF%BC%8C%E5%A4%8D%E7%94%A8mux%EF%BC%8C%E8%A7%A3%E5%A4%8D%E7%94%A8demux%E5%85%B3%E7%B3%BB/" title="编码encoder，解码decoder，复用mux，解复用demux关系">编码encoder，解码decoder，复用mux，解复用demux关系</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-27T08:58:40.000Z" title="发表于 2024-08-27 16:58:40">2024-08-27</time></span></div><div class="content">编码（encoder）、解码（decoder）、复用（mux），和解复用（demux）是多媒体处理中的四个重要概念，它们各自承担不同的任务，用于处理音频、视频等数据。下面是它们的关系和区别：
1. 编码（Encoder）
编码是将原始的音视频数据转换为另一种格式的过程，这通常是为了压缩数据以减少文件大小，同时保持一定的质量。编码器通过一种算法（如 H.264、AAC 等）对音视频数据进行压缩，生成一种特定的编码格式的数据流。编码的目的是为了更高效地存储和传输音视频数据。
举例：

视频编码器：H.264、H.265、VP9 等。
音频编码器：MP3、AAC、Opus 等。

编码后的数据称为 码流（bitstream）。
2. 解码（Decoder）
解码是将编码后的数据流还原为原始格式或能够播放的格式的过程。解码器使用与编码器相反的算法，读取编码后的数据流，将其解压缩或转换为可以播放或进一步处理的格式。
举例：

视频解码器：解码 H.264、H.265 格式的视频流。
音频解码器：解码 MP3、AAC 格式的音频流。

解码的目的是使数据可以被音视频播放器或其他应用程序处理和播放。 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/08/18/%E6%88%AA%E5%8F%96%E4%B8%80%E6%AE%B5%E8%A7%86%E9%A2%91/" title="截取一段视频"><img class="post_bg" src="https://www.jasonqian.com/img/menhera_19.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="截取一段视频"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/18/%E6%88%AA%E5%8F%96%E4%B8%80%E6%AE%B5%E8%A7%86%E9%A2%91/" title="截取一段视频">截取一段视频</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-18T14:44:54.000Z" title="发表于 2024-08-18 22:44:54">2024-08-18</time></span></div><div class="content">代码
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697989910010110210310410510610710810911011111211311411511611711811912012112212312412512612712812913013113213313413513613713813914014114214314414514614714814915015115215315415515615715815916016116216316416516616716816917017117217317417517617717817918018118218318418518618718818919019119219319419519619719819920020120 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/08/18/AVPacket/" title="AVPacket"><img class="post_bg" src="https://www.jasonqian.com/img/menhera_31.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AVPacket"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/18/AVPacket/" title="AVPacket">AVPacket</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-18T14:20:44.000Z" title="发表于 2024-08-18 22:20:44">2024-08-18</time></span></div><div class="content">基本介绍
AVPacket 是 FFmpeg 库中的一个重要结构体，用于表示音频、视频或字幕等媒体数据的一个数据包（packet）。在多媒体处理流程中，AVPacket 是最基本的传输和处理单元，它包含了编解码数据以及与数据相关的元信息，如时间戳、数据大小等。
AVPacket 的作用
AVPacket 是在解复用（demuxing）和复用（muxing）过程中传递音视频数据的结构体。解复用器从多媒体文件中提取出 AVPacket，解码器处理 AVPacket 中的数据，并生成帧（AVFrame）。同样，编码器会将帧编码成 AVPacket，复用器会将这些 AVPacket 写入多媒体文件。
AVPacket 结构体的主要成员
以下是 AVPacket 结构体中一些关键的成员变量及其作用：

uint8_t *data：指向数据包的实际数据。它包含了经过编码的音频或视频数据，通常是压缩的格式（如 H.264 视频或 AAC 音频）。
int size：表示数据包的大小，以字节为单位。这个值表示 data 指针指向的数据区域的大小。
int64_t pts：表示显示时间戳（Present ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/08/18/AVCodecParameters/" title="AVCodecParameters"><img class="post_bg" src="https://www.jasonqian.com/img/menhera_32.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AVCodecParameters"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/18/AVCodecParameters/" title="AVCodecParameters">AVCodecParameters</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-18T06:54:49.000Z" title="发表于 2024-08-18 14:54:49">2024-08-18</time></span></div><div class="content">AVCodecParameters 是 FFmpeg 库中的一个数据结构，用于存储与媒体流（如视频流、音频流、字幕流等）相关的编解码参数。这些参数包括编解码器的类型、编码格式、分辨率、比特率、采样率等。AVCodecParameters 的引入是为了分离编解码器相关的参数信息，以便在不同的上下文中使用这些参数，而不需要依赖于实际的编解码器上下文。
AVCodecParameters 的主要成员变量
以下是 AVCodecParameters 结构中一些关键的成员变量及其作用：

enum AVMediaType codec_type：表示媒体类型，即流的类型。它是一个枚举类型，可能的值包括 AVMEDIA_TYPE_VIDEO、AVMEDIA_TYPE_AUDIO、AVMEDIA_TYPE_SUBTITLE 等。
enum AVCodecID codec_id：表示编解码器的 ID，指示该流使用的具体编解码器类型（例如 AV_CODEC_ID_H264 表示 H.264 视频编码，AV_CODEC_ID_AAC 表示 AAC 音频编码）。
int64_t bit_rate：流的比特率， ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/08/18/AVStream%E3%80%81AVFormatContext/" title="AVStream、AVFormatContext"><img class="post_bg" src="https://www.jasonqian.com/img/menhera_10.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AVStream、AVFormatContext"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/18/AVStream%E3%80%81AVFormatContext/" title="AVStream、AVFormatContext">AVStream、AVFormatContext</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-18T06:47:39.000Z" title="发表于 2024-08-18 14:47:39">2024-08-18</time></span></div><div class="content">AVStream
AVStream 是 FFmpeg 中用于表示媒体文件中每个流（如视频流、音频流、字幕流等）的数据结构。每个媒体文件通常包含一个或多个流，例如一个视频文件可能包含一个视频流和一个音频流。
AVFormatContext
AVFormatContext 是 FFmpeg 库中的一个核心数据结构，用于表示一个多媒体文件或流的上下文。它包含了文件或流的全局信息以及其中的各个流（如视频流、音频流、字幕流等）的详细信息。这个结构体在处理多媒体文件的过程中起着至关重要的作用，几乎所有与多媒体文件相关的操作都依赖于它。
AVFormatContext 的主要作用
AVFormatContext 是处理多媒体文件的中心，它负责：

管理文件的全局信息：包括文件的格式、持续时间、比特率等。
管理文件中的各个流：如视频流、音频流、字幕流等，每个流的信息都保存在 AVStream 结构中，AVFormatContext 通过一个流数组（streams）来管理这些流。
与多媒体文件的 I/O 操作相关：它包含文件的输入输出上下文，可以通过它来打开、读取、写入文件。
与编解码器交互：它存储了与 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/08/17/AVCodec%E3%80%81AVCodecContext/" title="AVCodec、AVCodecContext"><img class="post_bg" src="https://www.jasonqian.com/img/menhera_28.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AVCodec、AVCodecContext"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/17/AVCodec%E3%80%81AVCodecContext/" title="AVCodec、AVCodecContext">AVCodec、AVCodecContext</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-17T08:06:54.000Z" title="发表于 2024-08-17 16:06:54">2024-08-17</time></span></div><div class="content">AVCodec
AVCodec 是 FFmpeg 中用于表示一个编解码器（encoder 或 decoder）的结构体。编解码器是用于对音频、视频、字幕等媒体数据进行编码或解码的核心组件。AVCodec 结构体包含了编解码器的基本信息和功能指针，FFmpeg 通过这个结构体来管理和操作各种编解码器。
AVCodec 结构体的基本介绍

用途：AVCodec 结构体用于描述 FFmpeg 支持的每一个编解码器（如 H.264 解码器、MP3 编码器等）。它既可以表示一个解码器，也可以表示一个编码器。
位置：AVCodec 结构体定义在 libavcodec/avcodec.h 头文件中。

如何使用 AVCodec
AVCodec 结构体通常不会直接使用，而是与 AVCodecContext 一起配合使用。下面是一个简单的使用流程：


查找编解码器：


使用 avcodec_find_decoder() 或 avcodec_find_encoder() 函数查找你需要的编解码器，并获取相应的 AVCodec 指针。
12345AVCodec *codec = avcodec_find ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/#content-inner">7</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://www.jasonqian.com/img/menhera_1.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">JasonQian</div><div class="author-info__description">1.048596</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">61</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Jason-Qian993" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">帰り道が長い</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/08/27/%E7%BC%96%E7%A0%81encoder%EF%BC%8C%E8%A7%A3%E7%A0%81decoder%EF%BC%8C%E5%A4%8D%E7%94%A8mux%EF%BC%8C%E8%A7%A3%E5%A4%8D%E7%94%A8demux%E5%85%B3%E7%B3%BB/" title="编码encoder，解码decoder，复用mux，解复用demux关系"><img src="https://www.jasonqian.com/img/menhera_4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="编码encoder，解码decoder，复用mux，解复用demux关系"/></a><div class="content"><a class="title" href="/2024/08/27/%E7%BC%96%E7%A0%81encoder%EF%BC%8C%E8%A7%A3%E7%A0%81decoder%EF%BC%8C%E5%A4%8D%E7%94%A8mux%EF%BC%8C%E8%A7%A3%E5%A4%8D%E7%94%A8demux%E5%85%B3%E7%B3%BB/" title="编码encoder，解码decoder，复用mux，解复用demux关系">编码encoder，解码decoder，复用mux，解复用demux关系</a><time datetime="2024-08-27T08:58:40.000Z" title="发表于 2024-08-27 16:58:40">2024-08-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/18/%E6%88%AA%E5%8F%96%E4%B8%80%E6%AE%B5%E8%A7%86%E9%A2%91/" title="截取一段视频"><img src="https://www.jasonqian.com/img/menhera_19.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="截取一段视频"/></a><div class="content"><a class="title" href="/2024/08/18/%E6%88%AA%E5%8F%96%E4%B8%80%E6%AE%B5%E8%A7%86%E9%A2%91/" title="截取一段视频">截取一段视频</a><time datetime="2024-08-18T14:44:54.000Z" title="发表于 2024-08-18 22:44:54">2024-08-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/18/AVPacket/" title="AVPacket"><img src="https://www.jasonqian.com/img/menhera_31.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AVPacket"/></a><div class="content"><a class="title" href="/2024/08/18/AVPacket/" title="AVPacket">AVPacket</a><time datetime="2024-08-18T14:20:44.000Z" title="发表于 2024-08-18 22:20:44">2024-08-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/18/AVCodecParameters/" title="AVCodecParameters"><img src="https://www.jasonqian.com/img/menhera_32.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AVCodecParameters"/></a><div class="content"><a class="title" href="/2024/08/18/AVCodecParameters/" title="AVCodecParameters">AVCodecParameters</a><time datetime="2024-08-18T06:54:49.000Z" title="发表于 2024-08-18 14:54:49">2024-08-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/18/AVStream%E3%80%81AVFormatContext/" title="AVStream、AVFormatContext"><img src="https://www.jasonqian.com/img/menhera_10.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AVStream、AVFormatContext"/></a><div class="content"><a class="title" href="/2024/08/18/AVStream%E3%80%81AVFormatContext/" title="AVStream、AVFormatContext">AVStream、AVFormatContext</a><time datetime="2024-08-18T06:47:39.000Z" title="发表于 2024-08-18 14:47:39">2024-08-18</time></div></div></div></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/AtCoder%E9%A2%98%E8%A7%A3%E9%9B%86/" style="font-size: 1.3em; color: #99a1ac">AtCoder题解集</a> <a href="/tags/DS/" style="font-size: 1.4em; color: #99a5b6">DS</a> <a href="/tags/%E5%B7%A5%E7%A8%8B%E8%AF%BE/" style="font-size: 1.1em; color: #999">工程课</a> <a href="/tags/%E7%AE%97%E6%B3%95%E5%B0%8F%E7%9F%A5%E8%AF%86%E7%82%B9/" style="font-size: 1.2em; color: #999da3">算法小知识点</a> <a href="/tags/%E9%AB%98%E6%95%B0/" style="font-size: 1.5em; color: #99a9bf">高数</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">八月 2024</span><span class="card-archive-list-count">20</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">七月 2024</span><span class="card-archive-list-count">12</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">六月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/04/"><span class="card-archive-list-date">四月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">一月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">十二月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/11/"><span class="card-archive-list-date">十一月 2022</span><span class="card-archive-list-count">3</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">61</div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">171.7k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-08-27T08:59:18.792Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2024 By JasonQian</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (true){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    window.typed = new Typed("#subtitle", {
      strings: ["🌸你我逢于伊始之春，而非伤寂之秋，戏剧已然落幕，我们奇迹般的开始🌸"],
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '🌸你我逢于伊始之春，而非伤寂之秋，戏剧已然落幕，我们奇迹般的开始🌸'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v6.2.0" title=""><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="主题版本Butterfly_v4.3.1" title=""><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" data-title="本站采用多线部署，主线路托管于Vercel" title=""><img src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a><a class="github-badge" target="_blank" href="http://www.beian.gov.cn/portal/recordQuery" style="margin-inline:5px" data-title="网站备案" title=""><img src="https://img.shields.io/badge/渝公网安备-50011802010611号-blue?style=flat&amp;logo=备案" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title=""><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title=""><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="/js/runtime.js"></script><!-- hexo injector body_end end --></body></html>